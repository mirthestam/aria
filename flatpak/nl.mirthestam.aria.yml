id: nl.mirthestam.aria
runtime: org.gnome.Platform
runtime-version: '49'
sdk: org.gnome.Sdk
sdk-extensions:
  - org.freedesktop.Sdk.Extension.dotnet10
build-options:
  prepend-path: "/usr/lib/sdk/dotnet10/bin"
  append-ld-library-path: "/usr/lib/sdk/dotnet10/lib"
  prepend-pkg-config-path: "/usr/lib/sdk/dotnet10/lib/pkgconfig"

command: nl.mirthestam.aria

finish-args:
  - --socket=fallback-x11
  - --socket=wayland
  - --device=dri
  - --share=ipc
  - --share=network
  - --filesystem=home
  - --env=DOTNET_ROOT=/app/lib/dotnet  

modules:

  - name: dotnet
    buildsystem: simple
    build-commands:
    - /usr/lib/sdk/dotnet10/bin/install.sh

  - name: nl.mirthestam.aria
    buildsystem: simple
    sources:
      - type: dir
        path: ../
      - ../nuget-sources.json
    build-commands:
      - chmod +x ./flatpak/flatpak-build.sh
      - ./flatpak/flatpak-build.sh